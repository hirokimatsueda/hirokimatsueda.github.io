<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Functions on å‚™å¿˜éŒ²</title>
    <link>https://blog.pokapu.jp/tags/functions/</link>
    <description>Recent content in Functions on å‚™å¿˜éŒ²</description>
    <generator>Hugo</generator>
    <language>ja-jp</language>
    <copyright>Copyright Â© 2022 Hiroki Matsueda</copyright>
    <lastBuildDate>Fri, 02 Dec 2022 10:00:00 +0900</lastBuildDate>
    <atom:link href="https://blog.pokapu.jp/tags/functions/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>AzureãŠçˆ¶ã•ã‚“å¿…è¦‹ï¼èµ¤ã¡ã‚ƒã‚“ã®ã†ã‚“ã¡è¨˜éŒ²ã‚¢ãƒ—ãƒªã§å­è‚²ã¦ã‚’DXï¼?</title>
      <link>https://blog.pokapu.jp/post/baby-info-recording-system/</link>
      <pubDate>Fri, 02 Dec 2022 10:00:00 +0900</pubDate>
      <guid>https://blog.pokapu.jp/post/baby-info-recording-system/</guid>
      <description>&lt;p&gt;â€» ã“ã®è¨˜äº‹ã¯ã€cloud.config Tech Blog ã«ã‚‚ãƒãƒ«ãƒãƒã‚¹ãƒˆã™ã‚‹äºˆå®šã§ã™&lt;/p&gt;&#xA;&lt;p&gt;å­ä¾›ãŒç”£ã¾ã‚Œã¦å¦»å­ã®å…¥é™¢æœŸé–“ä¸­ã€ä½“æ¸©ã‚„æˆä¹³å›æ•°ã‚„ãŠã—ã£ã“ãƒ»ã†ã‚“ã¡ã®æ™‚é–“ã‚’è¨˜éŒ²ã™ã‚‹ç´™ãŒã‚ã£ã¦ã€ãã“ã«æ¯æ—¥è¨˜éŒ²ã—ã¦ã„ã¾ã—ãŸã€‚&lt;/p&gt;&#xA;&lt;p&gt;é€€é™¢å¾Œã‚‚ãã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’ Excel ã§çœŸä¼¼ã¦ç´™ã«å°åˆ·ã—ã¦ä½¿ã£ã¦ã„ã¦ã€å­ä¾›ã®ä¸èª¿ãŒç„¡ã„ã‹ç¢ºèªã—ã¦ã„ã¾ã—ãŸã€‚&lt;/p&gt;&#xA;&lt;p&gt;å­ä¾›ãŒ 1 æ­³ã«ãªã£ãŸä»Šã‚‚ä¸€å¿œã€è¨˜éŒ²å†…å®¹ã‚’æ¸›ã‚‰ã—ãŸç´™ã‚’é‹ç”¨ã—ã¦ã¯ã„ã‚‹ã‚‚ã®ã®ã€ã»ã¨ã‚“ã©å•é¡Œãªã„ã®ã§ã‚ã¾ã‚Šæ›¸ã„ã¦ã„ãªã„ã§ã™ã€‚&lt;/p&gt;&#xA;&lt;p&gt;ãŸã ãã®ä¸­ã§ã€çµ¶å¯¾æ›¸ã„ã¦ãŠããŸã„ã®ãŒã€&lt;/p&gt;&#xA;&lt;p&gt;ã†ã‚“ã¡ã®è¨˜éŒ²ã§ã™ï¼&lt;/p&gt;&#xA;&lt;p&gt;ä¾¿ç§˜ã ã¨ä¸æ©Ÿå«Œã«ãªã£ãŸã‚Šå ´åˆã«ã‚ˆã£ã¦ã¯ç—…é™¢ã«è¡Œã‹ãªã„ã¨ã„ã‘ãªããªã‚Šã¾ã™ã€‚&lt;/p&gt;&#xA;&lt;p&gt;ã†ã¡ã®å­ã¯æœ€è¿‘ã¯å‰²ã¨å¿«ä¾¿ã§ã™ãŒã€æœ€åˆã®é ƒã¯ä¾¿ç§˜ã§ã¨ã¦ã‚‚å¿ƒé…ã—ã¾ã—ãŸã€‚&lt;/p&gt;&#xA;&lt;p&gt;ã¾ãŸã€ã†ã‚“ã¡ãŒã‚ã¾ã‚Šå‡ºã¦ã„ãªã„çŠ¶æ…‹ã§ãŠé¢¨å‘‚ã«å…¥ã‚‹ã¨ãƒ»ãƒ»ãƒ»ã­ã€‚ã€‚&lt;/p&gt;&#xA;&lt;p&gt;ã¨ã„ã†ã“ã¨ã§ã€ã†ã‚“ã¡ã®å›æ•°ã‚’è¨˜éŒ²ã™ã‚‹ã‚¢ãƒ—ãƒªã‚’æ›¸ã„ã¦ã¿ã¾ã—ãŸã®ã§ã”ç´¹ä»‹ã§ã™ã€‚&lt;/p&gt;&#xA;&#xA;&lt;link rel=&#34;stylesheet&#34; href=&#34;https://blog.pokapu.jp/css/hugo-easy-gallery.css&#34; /&gt;&#xA;&lt;div class=&#34;box&#34; &gt;&#xA;  &lt;figure class=&#34;center&#34; itemprop=&#34;associatedMedia&#34; itemscope itemtype=&#34;http://schema.org/ImageObject&#34;&gt;&#xA;    &lt;div class=&#34;img&#34;&gt;&#xA;      &lt;img itemprop=&#34;thumbnail&#34; src=&#34;https://blog.pokapu.jp/baby-info-recording-system/001.png&#34; alt=&#34;/baby-info-recording-system/001.png&#34;/&gt;&#xA;    &lt;/div&gt;&#xA;    &lt;a href=&#34;https://blog.pokapu.jp/baby-info-recording-system/001.png&#34; itemprop=&#34;contentUrl&#34;&gt;&lt;/a&gt;&#xA;      &lt;figcaption&gt;&lt;h4&gt;Screen shot&lt;/h4&gt;&#xA;      &lt;/figcaption&gt;&#xA;  &lt;/figure&gt;&#xA;&lt;/div&gt;&#xA;&#xA;&lt;h2 id=&#34;ã‚¢ãƒ—ãƒªã®æ¦‚è¦&#34;&gt;ã‚¢ãƒ—ãƒªã®æ¦‚è¦&lt;/h2&gt;&#xA;&lt;p&gt;ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã®ä¸­ã®ã€Œï¼‹ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€å½“æ—¥ã®æ ã« ğŸ’© ãƒãƒ¼ã‚¯ãŒã¤ãã¾ã™ã€‚&lt;/p&gt;&#xA;&lt;p&gt;ãƒ‡ãƒ¼ã‚¿ã¯ Cosmos DB ã«ä¿ç®¡ã•ã‚Œã¾ã™ã€‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;ã‚¢ãƒ—ãƒªã‚³ãƒ¼ãƒ‰&#34;&gt;ã‚¢ãƒ—ãƒªã‚³ãƒ¼ãƒ‰&lt;/h2&gt;&#xA;&lt;p&gt;Visual Studio 2022 ã§ä½œæˆã—ã¾ã—ãŸã€‚GitHub ã§è¦‹ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/hirokimatsueda/baby-info-recording-system&#34;&gt;https://github.com/hirokimatsueda/baby-info-recording-system&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;ãƒ•ãƒ­ãƒ³ãƒˆã‚¢ãƒ—ãƒªã®å®Ÿè£…ã¯å¤§ç›®ã«è¦‹ã¦ãã ã•ã„ã€‚ã€‚&lt;/p&gt;&#xA;&lt;p&gt;ãƒ•ãƒ­ãƒ³ãƒˆã®ä½œã‚ŠãŒå¾®å¦™ã§ã™ãŒãƒ»ãƒ»ãƒ»èµ¤ã¡ã‚ƒã‚“ ID ã‚’å¤‰æ›´ã™ã‚‹ã¨åˆ¥ã€…ã®ãƒ‡ãƒ¼ã‚¿ã‚’ç®¡ç†ã§ãã‚‹ã®ã§ã€åŒå­ã‚„å…„å¼Ÿã®ãƒ‡ãƒ¼ã‚¿ã‚‚æ‰±ãˆã¾ã™ã€‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦&#34;&gt;ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦&lt;/h2&gt;&#xA;&lt;p&gt;ã‚¤ãƒ³ãƒ•ãƒ©ã¨ã—ã¦ã¯ Azure ã® Static Web Apps ã§ã®å‹•ä½œã‚’æƒ³å®šã—ã€æƒ…å ±ã‚’ CosmosDB ã«ä¿å­˜ã™ã‚‹ã®ã§ã€æ¯”è¼ƒçš„å®‰ä¾¡ã«é‹ç”¨ã§ãã‚‹ã‚‚ã®ã«ãªã£ã¦ã„ã¾ã™ã€‚&lt;/p&gt;&#xA;&lt;p&gt;ã‚¢ãƒ—ãƒªã¯ &lt;a href=&#34;https://learn.microsoft.com/ja-jp/aspnet/core/blazor/?view=aspnetcore-6.0&#34;&gt;ASP.NET Core Blazor&lt;/a&gt; ã§ã®è¨˜è¿°ã§ã™ã€‚&lt;/p&gt;&#xA;&lt;p&gt;ã‚¤ãƒ³ãƒ•ãƒ©ã‚‚ã‚¢ãƒ—ãƒªã‚‚ã€ãƒ™ãƒ¼ã‚¹ã¨ãªã‚‹è€ƒãˆæ–¹ã¯ä»¥å‰ãƒ–ãƒ­ã‚°ã§ã”ç´¹ä»‹ã—ãŸä¸‹è¨˜ã®ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚&#xA;&lt;a href=&#34;https://github.com/hirokimatsueda/azure-managed-id-sample&#34;&gt;https://github.com/hirokimatsueda/azure-managed-id-sample&lt;/a&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;ã‚¤ãƒ³ãƒ•ãƒ©æ§‹ç¯‰&#34;&gt;ã‚¤ãƒ³ãƒ•ãƒ©æ§‹ç¯‰&lt;/h2&gt;&#xA;&lt;p&gt;Api ã¯ Static Web Apps ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®æ©Ÿèƒ½ã§å‹•ã‹ã™ã¨ Managed ID ãŒä½¿ãˆãªã„ãŸã‚ã€Static Web Apps ã¨ã¯åˆ¥ã§æ§‹ç¯‰ã—ãŸ Functions ã‚’ Static Web Apps ã«ãƒªãƒ³ã‚¯ã™ã‚‹å½¢ã‚’å–ã‚‹ã®ãŒãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>å®Ÿç”¨æ€§é‡è¦–ï¼Azureã®ãƒãƒãƒ¼ã‚¸ãƒ‰IDæ´»ç”¨ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰(ã‚¢ãƒ—ãƒªã‚³ãƒ¼ãƒ‰)</title>
      <link>https://blog.pokapu.jp/post/azure-managed-id-sample-application/</link>
      <pubDate>Sat, 20 Aug 2022 14:50:39 +0900</pubDate>
      <guid>https://blog.pokapu.jp/post/azure-managed-id-sample-application/</guid>
      <description>&lt;p&gt;ä¸‹è¨˜ã®ã‚µãƒ³ãƒ—ãƒ«å®Ÿè£…ã®ã‚¢ãƒ—ãƒªã‚³ãƒ¼ãƒ‰éƒ¨åˆ†ã‚’è§£èª¬ã—ã¾ã™ã€‚&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/hirokimatsueda/azure-managed-id-sample&#34;&gt;https://github.com/hirokimatsueda/azure-managed-id-sample&lt;/a&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;ã‚¢ãƒ—ãƒªå‡¦ç†è©³ç´°&#34;&gt;ã‚¢ãƒ—ãƒªå‡¦ç†è©³ç´°&lt;/h2&gt;&#xA;&lt;p&gt;ã‚³ãƒ¼ãƒ‰ã¯ã“ã¡ã‚‰:&#xA;&lt;a href=&#34;https://github.com/hirokimatsueda/azure-managed-id-sample/blob/main/applications/DataApis&#34;&gt;https://github.com/hirokimatsueda/azure-managed-id-sample/blob/main/applications/DataApis&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;è©³ç´°ã¨è¨€ã†ã»ã©ã®ã‚‚ã®ã§ã¯ãªã„ã§ã™ãŒãƒ»ãƒ»ãƒ»ã€‚&lt;/p&gt;&#xA;&lt;h3 id=&#34;getdata&#34;&gt;GetData&lt;/h3&gt;&#xA;&lt;p&gt;ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‹ã‚‰ &lt;code&gt;id&lt;/code&gt; ã¨ &lt;code&gt;category&lt;/code&gt; ã‚’èª­ã¿å–ã£ã¦ã€å¯¾è±¡ã®ãƒ‡ãƒ¼ã‚¿ã‚’ Cosmos DB ã‹ã‚‰å–å¾—ã—è¿”å´ã—ã¾ã™ã€‚&lt;/p&gt;&#xA;&lt;h3 id=&#34;putdata&#34;&gt;PutData&lt;/h3&gt;&#xA;&lt;p&gt;ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ã®ãƒ‡ãƒ¼ã‚¿ã‚’ Cosmos DB ã« Upsert ã—ã¾ã™ã€‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;å®Ÿè£…ã®ãƒã‚¤ãƒ³ãƒˆ&#34;&gt;å®Ÿè£…ã®ãƒã‚¤ãƒ³ãƒˆ&lt;/h2&gt;&#xA;&lt;p&gt;ãƒãƒãƒ¼ã‚¸ãƒ‰ ID ã¨ã„ã†è¦³ç‚¹ã§è¨€ã†ã¨ã€CosmosClient ã«æ¸¡ã™ã‚¯ãƒ¬ãƒ‡ãƒ³ã‚·ãƒ£ãƒ«æƒ…å ±ã« &lt;code&gt;new DefaultAzureCredential()&lt;/code&gt; ã‚’æŒ‡å®šã™ã‚‹ãã‚‰ã„ã§ã™ã€‚&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cs&#34; data-lang=&#34;cs&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; CosmosClient InitializeCosmosClient()&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; CosmosClient(Environment.GetEnvironmentVariable(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;COSMOS_ENDPOINT&amp;#34;&lt;/span&gt;, EnvironmentVariableTarget.Process), &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; DefaultAzureCredential());&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ã“ã‚Œã«ã‚ˆã‚Š Functions ä¸Šã§ã¯ãƒãƒãƒ¼ã‚¸ãƒ‰ ID ã®ã‚¯ãƒ¬ãƒ‡ãƒ³ã‚·ãƒ£ãƒ«ãŒä½¿ç”¨ã•ã‚Œã¾ã™ã€‚&lt;/p&gt;&#xA;&lt;p&gt;ãƒ­ãƒ¼ã‚«ãƒ« PC ä¸Šã§å®Ÿè¡Œã™ã‚‹å ´åˆã¯ã€ãƒ­ãƒ¼ã‚«ãƒ« PC ä¸Šã®èªè¨¼æƒ…å ±ã‚’ä½¿ç”¨ã—ã¦ãã‚Œã‚‹ã®ã§ã€ä¾‹ãˆã° az login ã—ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒ Cosmos DB ã®ãƒ‡ãƒ¼ã‚¿ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ã‚’æŒã£ã¦ã„ã‚Œã°ãƒ­ãƒ¼ã‚«ãƒ« PC ã§ãƒ‡ãƒãƒƒã‚°ãŒå¯èƒ½ã§ã™ã€‚&lt;/p&gt;&#xA;&lt;p&gt;ã»ã‹ã®ãƒã‚¤ãƒ³ãƒˆã¨ã—ã¦ã¯ã€CosmosClient ã‚’ãƒ¡ã‚½ãƒƒãƒ‰å‘¼ã³å‡ºã—æ™‚ã«ç”Ÿæˆã™ã‚‹ã®ã§ã¯ãªã Static å¤‰æ•°ã¨ã—ã¦æŒã£ã¦ãŠãã€Lazy ã‚¯ãƒ©ã‚¹ã‚’æ´»ç”¨ã—ãŸåˆæœŸåŒ–ã‚’å®Ÿæ–½ã—ã¦ã„ã¾ã™ã€‚&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cs&#34; data-lang=&#34;cs&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; Lazy&amp;lt;CosmosClient&amp;gt; lazyClient = &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; Lazy&amp;lt;CosmosClient&amp;gt;(InitializeCosmosClient);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ã“ã‚Œã«ã‚ˆã‚Š CosmosClient ã®åˆæœŸåŒ–ã¨ã„ã†ã‚³ã‚¹ãƒˆã®é«˜ã„å‡¦ç†å›æ•°ã‚’å‰Šæ¸›ã—ã¦ã„ã¾ã™ã€‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;ã¾ã¨ã‚&#34;&gt;ã¾ã¨ã‚&lt;/h2&gt;&#xA;&lt;p&gt;ã‚¢ãƒ—ãƒªé–‹ç™ºã®ãƒã‚¤ãƒ³ãƒˆã‚’æ•´ç†ã—ã¾ã—ãŸã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>å®Ÿç”¨æ€§é‡è¦–ï¼Azureã®ãƒãƒãƒ¼ã‚¸ãƒ‰IDæ´»ç”¨ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰(ã‚¤ãƒ³ãƒ•ãƒ©ã‚³ãƒ¼ãƒ‰)</title>
      <link>https://blog.pokapu.jp/post/azure-managed-id-sample-infrastructure/</link>
      <pubDate>Sat, 20 Aug 2022 14:50:38 +0900</pubDate>
      <guid>https://blog.pokapu.jp/post/azure-managed-id-sample-infrastructure/</guid>
      <description>&lt;p&gt;ä¸‹è¨˜ã®ã‚µãƒ³ãƒ—ãƒ«å®Ÿè£…ã®ã‚¤ãƒ³ãƒ•ãƒ©ã‚³ãƒ¼ãƒ‰éƒ¨åˆ†ã‚’è§£èª¬ã—ã¾ã™ã€‚&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/hirokimatsueda/azure-managed-id-sample&#34;&gt;https://github.com/hirokimatsueda/azure-managed-id-sample&lt;/a&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;ã‚¤ãƒ³ãƒ•ãƒ©æ§‹æˆè©³ç´°&#34;&gt;ã‚¤ãƒ³ãƒ•ãƒ©æ§‹æˆè©³ç´°&lt;/h2&gt;&#xA;&#xA;&lt;link rel=&#34;stylesheet&#34; href=&#34;https://blog.pokapu.jp/css/hugo-easy-gallery.css&#34; /&gt;&#xA;&lt;div class=&#34;box&#34; &gt;&#xA;  &lt;figure class=&#34;center&#34; itemprop=&#34;associatedMedia&#34; itemscope itemtype=&#34;http://schema.org/ImageObject&#34;&gt;&#xA;    &lt;div class=&#34;img&#34;&gt;&#xA;      &lt;img itemprop=&#34;thumbnail&#34; src=&#34;https://blog.pokapu.jp/azure-managed-id-sample-infrastructure/001.png&#34; alt=&#34;/azure-managed-id-sample-infrastructure/001.png&#34;/&gt;&#xA;    &lt;/div&gt;&#xA;    &lt;a href=&#34;https://blog.pokapu.jp/azure-managed-id-sample-infrastructure/001.png&#34; itemprop=&#34;contentUrl&#34;&gt;&lt;/a&gt;&#xA;      &lt;figcaption&gt;&lt;h4&gt;Architecture&lt;/h4&gt;&#xA;      &lt;/figcaption&gt;&#xA;  &lt;/figure&gt;&#xA;&lt;/div&gt;&#xA;&#xA;&lt;p&gt;æ¦‚è¦è¨˜äº‹ã§ã€Œã‚·ãƒ³ãƒ—ãƒ«ã€ã¨è¡¨ç¾ã—ã¾ã—ãŸãŒã€æ§‹ç¯‰ã•ã‚Œã‚‹ãƒªã‚½ãƒ¼ã‚¹ã‚’æ˜è¨˜ã™ã‚‹ã¨è‹¥å¹²ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚&#xA;ã—ã‹ã—ã‹ãªã‚Šæœ€ä½é™ã ã¨æ€ã„ã¾ã™ã®ã§ã©ã†ã‹ãŠä»˜ãåˆã„ã‚’ãƒ»ãƒ»ãƒ»ã€‚&lt;/p&gt;&#xA;&lt;p&gt;æœ¬è³ªçš„ã«å¿…è¦ãªã®ã¯ã€ä¸­å¤®ã® Functions ã¨ Cosmos DB ã§ã™ã€‚&lt;/p&gt;&#xA;&lt;p&gt;Cosmos DB ã®ä¸­ã«ã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚„ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã®æ¦‚å¿µãŒã‚ã‚‹ã®ã§ã€ã“ã‚Œã‚‰ã‚‚ã‚¤ãƒ³ãƒ•ãƒ©æ§‹ç¯‰æ™‚ã«ä½œæˆã—ã¦ã—ã¾ã„ã¾ã™ã€‚&lt;/p&gt;&#xA;&lt;p&gt;Azure ã®ãƒªã‚½ãƒ¼ã‚¹ã¯ã€Œè¨ºæ–­è¨­å®šã€ã‚’è¨­å®šã™ã‚‹ã¨ãƒªã‚½ãƒ¼ã‚¹ã®çŠ¶æ…‹ãŒè¦³æ¸¬ã§ãã‚‹ã®ã§ã€Functions ã¨ Cosmos DB ã«å¯¾ã—ã¦è¨­å®šã—ã¦ãŠãã¾ã™ã€‚è¨ºæ–­ãƒ­ã‚°ã®ä¿ç®¡å…ˆã¨ã—ã¦ Log Analytics ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚&lt;/p&gt;&#xA;&lt;p&gt;Functions ã®ã‚¢ãƒ—ãƒªã®çŠ¶æ…‹ã®è¦³æ¸¬ã®ãŸã‚ã€Application Insights ã¨æ¥ç¶šã—ã¦ã„ã¾ã™ã€‚&lt;/p&gt;&#xA;&lt;p&gt;Functions ã§ã¯ã‚·ã‚¹ãƒ†ãƒ å‰²ã‚Šå½“ã¦ãƒãƒãƒ¼ã‚¸ãƒ‰ ID ã‚’æœ‰åŠ¹ã«ã—ã¦ã€Cosmos DB ã®æ¨©é™è¨­å®šã§ã“ã®ãƒãƒãƒ¼ã‚¸ãƒ‰ ID ãŒ Cosmos DB å†…ã®ãƒ‡ãƒ¼ã‚¿ã‚’æ“ä½œã™ã‚‹ã“ã¨ã‚’è¨±å¯ã—ã¾ã™ã€‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;terraform-ã‚’ç”¨ã„ãŸæ§‹ç¯‰&#34;&gt;terraform ã‚’ç”¨ã„ãŸæ§‹ç¯‰&lt;/h2&gt;&#xA;&lt;p&gt;ã‚³ãƒ¼ãƒ‰ã¯ã“ã¡ã‚‰:&#xA;&lt;a href=&#34;https://github.com/hirokimatsueda/azure-managed-id-sample/tree/main/infrastructure/terraform&#34;&gt;https://github.com/hirokimatsueda/azure-managed-id-sample/tree/main/infrastructure/terraform&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;Azure ã®ã‚¤ãƒ³ãƒ•ãƒ©æ§‹ç¯‰ã«ã¯ &lt;a href=&#34;https://www.terraform.io/&#34;&gt;terraform&lt;/a&gt; ã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã™ã€‚&lt;/p&gt;&#xA;&lt;p&gt;terraform ã«ã¤ã„ã¦ã®èª¬æ˜ã¯å‰²æ„›ã•ã›ã¦ã„ãŸã ãã€ã©ã®ã‚ˆã†ãªæ–¹é‡ã§å®Ÿè£…ã—ã¦ã„ã‚‹ã‹ã‚’è¨˜è¼‰ã—ã¾ã™ã€‚&lt;/p&gt;&#xA;&lt;h3 id=&#34;module-ã¸ã®å‡¦ç†ã®åˆ†å‰²&#34;&gt;module ã¸ã®å‡¦ç†ã®åˆ†å‰²&lt;/h3&gt;&#xA;&lt;p&gt;terraform ã¯ã€ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªé…ä¸‹ï¼ˆã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’é™¤ãï¼‰ã® tf ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã™ã¹ã¦ç¢ºèªã—ã¦ã‚¤ãƒ³ãƒ•ãƒ©æ§‹ç¯‰ã‚’ã—ã¦ãã‚Œã¾ã™ãŒã€ãƒªã‚½ãƒ¼ã‚¹æ•°ãŒå¤šã„å ´åˆã¯ã‚³ãƒ¼ãƒ‰ã®è¦‹é€šã—ãŒæ‚ªããªã‚ŠãŒã¡ã§ã™ã€‚&lt;/p&gt;&#xA;&lt;p&gt;ã“ã®æ™‚ã€&lt;a href=&#34;https://www.terraform.io/language/modules&#34;&gt;modules&lt;/a&gt; ã¨ã„ã†æ¦‚å¿µã‚’ä½¿ç”¨ã™ã‚‹ã¨å‡¦ç†ã®è©³ç´°ã‚’åˆ¥ãƒ•ã‚©ãƒ«ãƒ€ã«æ•´ç†ã§ãã‚‹ã®ã§è¦‹é€šã—ãŒè‰¯ããªã‚Šã¾ã™ã€‚&lt;/p&gt;&#xA;&lt;h3 id=&#34;ãƒãƒãƒ¼ã‚¸ãƒ‰-id-ã¸ã®æ¨©é™ä»˜ä¸&#34;&gt;ãƒãƒãƒ¼ã‚¸ãƒ‰ ID ã¸ã®æ¨©é™ä»˜ä¸&lt;/h3&gt;&#xA;&lt;p&gt;ä¸‹è¨˜ã®å®Ÿè£…ã§æ¨©é™ä»˜ä¸ã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/hirokimatsueda/azure-managed-id-sample/blob/main/infrastructure/terraform/modules/cosmos_db_sql/main.tf&#34;&gt;https://github.com/hirokimatsueda/azure-managed-id-sample/blob/main/infrastructure/terraform/modules/cosmos_db_sql/main.tf&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/cosmosdb_sql_role_definition&#34;&gt;azurerm_cosmosdb_sql_role_definition&lt;/a&gt; ã‚’ä½¿ç”¨ã—ã€Cosmos DB ã®ãƒ‡ãƒ¼ã‚¿ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ã‚’å®šç¾©ã—ã¾ã™ã€‚&lt;/p&gt;&#xA;&lt;p&gt;ã“ã‚Œã¯ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ã®å®šç¾©ã§ã‚ã‚Šã€å‰²ã‚Šå½“ã¦ã§ã¯ãªã„ã§ã™ã€‚&lt;/p&gt;&#xA;&lt;p&gt;å‰²ã‚Šå½“ã¦ã«ã¯ &lt;a href=&#34;https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/cosmosdb_sql_role_assignment&#34;&gt;azurerm_cosmosdb_sql_role_assignment&lt;/a&gt; ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚&lt;/p&gt;&#xA;&lt;p&gt;ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã§ã¯ 2 å›ç™»å ´ã—ã¾ã™ãŒã€&lt;code&gt;user&lt;/code&gt;ã¨åä»˜ã‘ãŸæ–¹ã¯ terraform ã‚’å®Ÿè¡Œã—ãŸäººã¸ã®æ¨©é™ä»˜ä¸ã€&lt;code&gt;data_contributor&lt;/code&gt;ã¨åä»˜ã‘ãŸæ–¹ã¯ Functions ã¸ã®æ¨©é™ä¸è¦ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>å®Ÿç”¨æ€§é‡è¦–ï¼Azureã®ãƒãƒãƒ¼ã‚¸ãƒ‰IDæ´»ç”¨ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰(æ¦‚è¦)</title>
      <link>https://blog.pokapu.jp/post/azure-managed-id-sample-summary/</link>
      <pubDate>Sat, 20 Aug 2022 14:50:37 +0900</pubDate>
      <guid>https://blog.pokapu.jp/post/azure-managed-id-sample-summary/</guid>
      <description>&lt;p&gt;Azure ã®ãƒãƒãƒ¼ã‚¸ãƒ‰ ID ã¯åˆ†ã‹ã‚Œã°éå¸¸ã«æœ‰ç”¨ãªæ¦‚å¿µãªã®ã§ã™ãŒã€ã„ã–å®Ÿè£…ã™ã‚‹ã¨ãªã£ãŸå ´åˆã€ã‚¤ãƒ³ãƒ•ãƒ©ã¨ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒå¯†æ¥ã«é–¢ã‚ã£ã¦ã„ã‚‹ã“ã¨ã‚‚ã‚ã£ã¦ãƒãƒ¼ãƒ‰ãƒ«ãŒé«˜ãæ€ã†ã‚±ãƒ¼ã‚¹ãŒã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;&#xA;&lt;p&gt;ãã‚“ãªçš†æ§˜ã®ãŸã‚ã«ã€ã„ã¤ã‚‚ã®å½“ãŸã‚Šéšœã‚Šã®ãªã„è¨˜äº‹ã§ã¯ãªãã€ã—ã£ã‹ã‚Šå®Ÿç”¨çš„ã«ä½¿ãˆã‚‹ã‚³ãƒ¼ãƒ‰ã‚’ç”¨æ„ã—ã¾ã—ãŸã€‚&lt;/p&gt;&#xA;&lt;p&gt;æ—©é€Ÿå…¨ä½“åƒã‚’ã”ç´¹ä»‹ã—ã¾ã™ã€‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã®æ¦‚è¦&#34;&gt;ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã®æ¦‚è¦&lt;/h2&gt;&#xA;&lt;p&gt;ã‚³ãƒ¼ãƒ‰ã¯ä¸‹è¨˜ã«ã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/hirokimatsueda/azure-managed-id-sample&#34;&gt;https://github.com/hirokimatsueda/azure-managed-id-sample&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;ä½•ã‚‰ã‹ã®ãƒ‡ãƒ¼ã‚¿ã‚’ Functions ã‚’çµŒç”±ã—ã¦ Cosmos DB ã«ä¿ç®¡ãƒ»å–å¾—ã™ã‚‹ã‚¢ãƒ—ãƒªã¨ã‚¤ãƒ³ãƒ•ãƒ©ã®ã‚³ãƒ¼ãƒ‰ã®ã‚µãƒ³ãƒ—ãƒ«ã§ã™ã€‚&lt;/p&gt;&#xA;&lt;p&gt;ãƒ‡ãƒ¼ã‚¿ã¯å°‘ãªãã¨ã‚‚ id ã¨ category ã®å€¤ã‚’æŒã¤ã“ã¨ã‚’æƒ³å®šã—ã¾ã™ã€‚ã“ã‚“ãªæ„Ÿã˜ã§ã€‚&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;abc123&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;category&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;test&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;data&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;aaaabbbbcccc&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;category ã¯ Cosmos DB ä¸Šã®ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã‚­ãƒ¼ã¨ã—ã¦è¨­å®šã—ã¾ã™ã®ã§ã€ä¸€å®šã®æ³•å‰‡ã§å€¤ãŒå…¥ã‚‹ã¨è‰¯ã„ã“ã¨ãŒã‚ã‚Šãã†ã§ã™ã­ã€‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£&#34;&gt;ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£&lt;/h2&gt;&#xA;&#xA;&lt;link rel=&#34;stylesheet&#34; href=&#34;https://blog.pokapu.jp/css/hugo-easy-gallery.css&#34; /&gt;&#xA;&lt;div class=&#34;box&#34; &gt;&#xA;  &lt;figure class=&#34;center&#34; itemprop=&#34;associatedMedia&#34; itemscope itemtype=&#34;http://schema.org/ImageObject&#34;&gt;&#xA;    &lt;div class=&#34;img&#34;&gt;&#xA;      &lt;img itemprop=&#34;thumbnail&#34; src=&#34;https://blog.pokapu.jp/azure-managed-id-sample-summary/001.png&#34; alt=&#34;/azure-managed-id-sample-summary/001.png&#34;/&gt;&#xA;    &lt;/div&gt;&#xA;    &lt;a href=&#34;https://blog.pokapu.jp/azure-managed-id-sample-summary/001.png&#34; itemprop=&#34;contentUrl&#34;&gt;&lt;/a&gt;&#xA;      &lt;figcaption&gt;&lt;h4&gt;Architecture&lt;/h4&gt;&#xA;      &lt;/figcaption&gt;&#xA;  &lt;/figure&gt;&#xA;&lt;/div&gt;&#xA;&#xA;&lt;p&gt;ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ Functions ã§å—ã‘å–ã‚Šã€Cosmos DB ã¨ãƒ‡ãƒ¼ã‚¿ã®ã‚„ã‚Šå–ã‚Šã‚’ã™ã‚‹ã‚·ãƒ³ãƒ—ãƒ«ãªæ§‹æˆã§ã™ã€‚&lt;/p&gt;&#xA;&lt;p&gt;Functions ã®èªè¨¼ã¯ Functions ã® webbook ã® API ã‚­ãƒ¼ã‚’åˆ©ç”¨ã—ã¾ã™ã€‚&lt;/p&gt;&#xA;&lt;p&gt;Functions ã‹ã‚‰ Cosmos DB ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹æ‰‹æ®µã¯æ§˜ã€…ãªã‚‚ã®ãŒã‚ã‚Šã¾ã™ãŒã€è¡¨é¡Œã®é€šã‚Šãƒãƒãƒ¼ã‚¸ãƒ‰ ID ã‚’ä½¿ç”¨ã‚’æƒ³å®šã—ã¦ã„ã¾ã™ã€‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;ã‚³ãƒ¼ãƒ‰ã®æ§‹æˆ&#34;&gt;ã‚³ãƒ¼ãƒ‰ã®æ§‹æˆ&lt;/h2&gt;&#xA;&lt;p&gt;applications ãƒ•ã‚©ãƒ«ãƒ€ã« Functions ä¸Šã§å‹•ä½œã™ã‚‹ C#ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒã‚ã‚Šã€infrastructure ãƒ•ã‚©ãƒ«ãƒ€ã« Azure ãƒªã‚½ãƒ¼ã‚¹ã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã® terraform ã®ã‚³ãƒ¼ãƒ‰ãŒã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;&#xA;&lt;p&gt;infrastructure ãƒ•ã‚©ãƒ«ãƒ€ã® terraform ã‚’å®Ÿè¡Œã—ã¦ Azure ä¸Šã« Functions ã¨ Cosmos DBã€ãã®ä»–é–¢é€£ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œæˆã—ãŸå¾Œã€applications ãƒ•ã‚©ãƒ«ãƒ€ã®ã‚¢ãƒ—ãƒªã‚’ Functions ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚Œã°ã‚¢ãƒ—ãƒªã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
